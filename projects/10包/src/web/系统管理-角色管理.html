<!DOCTYPE html>
<html lang="zh-CN">
@@include('include/_head.html',{"title":"第三方数据导入"})
<body>
    @@include('include/_header.html')
    @@include('include/_nav.html',{"var9":"class=\"active\""})
    <!-- 主体 -->
    <div class="container g-body">
        <div class="g-box">
            <div class="m-title">
                <h4>系统管理</h4>
            </div>
            @@include('include/_systemnav.html',{"var4":"class=\"active\""})
            <form>
                <ul class="m-filter">
                    <li>
                        <label>名称：</label>
                        <div class="filter-option">
                            <input class="w-form5" type="text" placeholder="请输入搜索关键字" />
                            <button class="u-btn xprimary" type="submit">查看</button>
                            <a class="u-btn xlesser jsx-openwin" data-target="#win-role">新增角色</a>
                            <a class="u-btn xlesser">批量删除</a>
                        </div>
                    </li>
                </ul>
            </form>

            <div class="m-tablebox">
                <table class="m-table xcutoff">
                    <thead>
                        <tr>
                            <th class="xcheck"><input type="checkbox" /></th>
                            <th style="width:30%;">角色名称</th>
                            <th style="width:40%;">角色描述</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr class="selected">
                            <td><input type="checkbox" checked /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td>编辑员</td>
                            <td>具有专业素质，并从事该专业的文字工作的文职人员</td>
                            <td>
                                <a class="jsx-openwin" data-target="#win-auth">权限授权</a>
                                <a>修改</a>
                                <a>删除</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            @@include('include/_pagination.html')
        </div>
    </div>
    <!-- /主体 -->

    <!-- 窗体:授权 -->
    <div class="m-win jsx-win" id="win-auth">
        <div class="win-header">
            <a class="shut js-win-close" title="关闭">×</a>
            <h4>权限授权</h4>
        </div>
        <div class="win-body">
            <div class="m-loader">
                <div>
                    <label class="xtitle"><input type="checkbox">权限列表</label>
                    <div>
                        <!-- 目录树 -->
                        <ul id="tree" class="ztree"></ul>
                        <!-- /目录树 -->
                    </div>
                </div>

                <div class="loader-btns">
                    <a class="u-btn xlesser">加入&gt;&gt;</a>
                    <a class="u-btn xlesser">&lt;&lt;移除</a>
                </div>

                <div>
                    <label class="xtitle"><input type="checkbox">权限选择</label>
                    <div>
                        <!-- 目录树 -->
                        <ul id="tree2" class="ztree"></ul>
                        <!-- /目录树 -->
                    </div>
                </div>
            </div>
        </div>
        <div class="win-footer">
            <a class="u-btn xprimary js-win-close">确定</a>
            <a class="u-btn xlesser js-win-close">取消</a>
        </div>
    </div>
    <!-- /窗体:授权 -->
    @@include('include/_footer.html')
    @@include('include/_script.html')

    <!-- 脚本 -->
    <script>
        //设置目录树
        var setting = {
            check: {
                enable: true
            },
            data: {
                simpleData: {
                    enable: true
                }
            },
            view: {
                showIcon: true,
                expandSpeed: ""
            }
        };

        var setting2 = {
            data: {
                simpleData: {
                    enable: true
                }
            },
            view: {
                showIcon: true,
                expandSpeed: ""
            }
        };

        //添加目录树节点
        var zNodes = [
            {
                id: 11,
                pId: 1,
                name: "首页",
                open: true
            },            
            {
                id: 12,
                pId: 1,
                name: "内容管理",
                open: true
            },
            {
                id: 121,
                pId: 12,
                name: "内容管理子权限",
                open: true
            },
            {
                id: 13,
                pId: 1,
                name: "选题支撑",
                open: true
            },
            {
                id: 131,
                pId: 13,
                name: "基础选题推荐",
                open: true
            },
            {
                id: 1311,
                pId: 131,
                name: "基础选题推荐子权限",
                open: true
            },
            {
                id: 132,
                pId: 13,
                name: "个性化选题推荐",
                open: true
            },
            {
                id: 1321,
                pId: 132,
                name: "个性化选题推荐子权限",
                open: true
            },
            {
                id: 133,
                pId: 13,
                name: "用户选题行为分析",
                open: true
            },
            {
                id: 1331,
                pId: 133,
                name: "用户选题行为分析子权限",
                open: true
            },
            {
                id: 134,
                pId: 13,
                name: "流程管理",
                open: true
            },
            {
                id: 1341,
                pId: 134,
                name: "流程管理子权限",
                open: true
            },
            {
                id: 14,
                pId: 1,
                name: "反馈分析",
                open: true
            },
            {
                id: 141,
                pId: 14,
                name: "反馈分析子权限",
                open: true
            },
            {
                id: 142,
                pId: 14,
                name: "反馈分析子权限",
                open: true
            },
            {
                id: 15,
                pId: 1,
                name: "系统管理",
                open: true
            },
            {
                id: 151,
                pId: 15,
                name: "系统管理子权限",
                open: true
            },
            {
                id: 16,
                pId: 1,
                name: "数据采集",
                open: true
            },
            {
                id: 161,
                pId: 15,
                name: "数据采集子权限",
                open: true
            }
        ];

        $(document).ready(function() {
            //初始化目录树
            var $tree = $.fn.zTree.init($("#tree"), setting, zNodes),
                $tree2 = $.fn.zTree.init($("#tree2"), setting2, zNodes),
                nodes = $tree.getNodes(),
                nodes2 = $tree2.getNodes();

            $tree.expandAll(false);
            if (nodes.length > 0) {
                for (var i = 0; i < nodes.length; i++) {
                    $tree.expandNode(nodes[i], true, false, true);
                }
            }

            $tree2.expandAll(false);
            if (nodes2.length > 0) {
                for (i = 0; i < nodes.length; i++) {
                    $tree2.expandNode(nodes2[i], true, false, true);
                }
            }
        });
    </script>
    <!-- /脚本 -->
</body>
</html>
